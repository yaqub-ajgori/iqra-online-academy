<?php

namespace Database\Seeders;

use App\Models\Course;
use App\Models\CourseCategory;
use App\Models\CourseEnrollment;
use App\Models\CourseReview;
use App\Models\CourseReviewHelpfulVote;
use App\Models\Student;
use App\Models\Teacher;
use App\Models\User;
use Illuminate\Database\Seeder;

class ReviewSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $this->command->info('Creating review test data...');

        // Create categories if they don't exist
        $categories = [
            'à¦•à§à¦°à¦†à¦¨ à¦…à¦§à§à¦¯à¦¯à¦¼à¦¨' => 'quran-study',
            'à¦¹à¦¾à¦¦à¦¿à¦¸ à¦¶à¦¿à¦•à§à¦·à¦¾' => 'hadith-education', 
            'à¦«à¦¿à¦•à¦¹ à¦¶à¦¾à¦¸à§à¦¤à§à¦°' => 'fiqh-studies',
            'à¦‡à¦¸à¦²à¦¾à¦®à§€ à¦‡à¦¤à¦¿à¦¹à¦¾à¦¸' => 'islamic-history',
            'à¦†à¦°à¦¬à¦¿ à¦­à¦¾à¦·à¦¾' => 'arabic-language',
        ];

        foreach ($categories as $name => $slug) {
            CourseCategory::firstOrCreate(
                ['slug' => $slug],
                ['name' => $name, 'is_active' => true]
            );
        }

        // Create teachers if they don't exist  
        $teacherNames = [
            'à¦®à¦¾à¦“à¦²à¦¾à¦¨à¦¾ à¦†à¦¬à¦¦à§à¦² à¦•à¦°à¦¿à¦®',
            'à¦‰à¦¸à§à¦¤à¦¾à¦œ à¦®à§à¦¹à¦¾à¦®à§à¦®à¦¦ à¦‡à¦‰à¦¸à§à¦«',
            'à¦¹à¦¾à¦«à§‡à¦œ à¦†à¦¹à¦®à¦¦ à¦†à¦²à§€',
            'à¦¡. à¦«à¦¾à¦¤à¦¿à¦®à¦¾ à¦–à¦¾à¦¤à§à¦¨',
            'à¦ªà§à¦°à¦«à§‡à¦¸à¦° à¦œà¦¾à¦•à¦¿à¦° à¦¹à§à¦¸à¦¾à¦‡à¦¨',
        ];

        $teachers = [];
        foreach ($teacherNames as $name) {
            $email = strtolower(str_replace([' ', '.'], ['', ''], $name)) . '@iqra-academy.com';
            
            $user = User::firstOrCreate(
                ['email' => $email],
                [
                    'name' => $name,
                    'password' => bcrypt('password'),
                ]
            );
            
            $teacher = Teacher::firstOrCreate(
                ['user_id' => $user->id],
                [
                    'full_name' => $name,
                    'speciality' => 'à¦‡à¦¸à¦²à¦¾à¦®à§€ à¦¶à¦¿à¦•à§à¦·à¦¾',
                    'experience' => 'à¦…à¦­à¦¿à¦œà§à¦ž à¦‡à¦¸à¦²à¦¾à¦®à§€ à¦¶à¦¿à¦•à§à¦·à¦¾à¦¬à¦¿à¦¦ à¦à¦¬à¦‚ à¦—à¦¬à§‡à¦·à¦•à¥¤',
                    'phone' => '01' . rand(700000000, 999999999),
                    'is_active' => true,
                ]
            );
            
            $teachers[] = $teacher;
        }

        // Create courses
        $courseData = [
            [
                'title' => 'à¦•à§à¦°à¦†à¦¨ à¦¤à¦¿à¦²à¦¾à¦“à¦¯à¦¼à¦¾à¦¤ à¦“ à¦¤à¦¾à¦œà¦­à§€à¦¦ à¦•à§‹à¦°à§à¦¸',
                'category' => 'quran-study',
                'description' => 'à¦¸à§à¦¨à§à¦¦à¦° à¦“ à¦¶à§à¦¦à§à¦§à¦­à¦¾à¦¬à§‡ à¦•à§à¦°à¦†à¦¨ à¦¤à¦¿à¦²à¦¾à¦“à¦¯à¦¼à¦¾à¦¤ à¦¶à¦¿à¦–à§à¦¨à¥¤ à¦¤à¦¾à¦œà¦­à§€à¦¦à§‡à¦° à¦¨à¦¿à¦¯à¦¼à¦®-à¦•à¦¾à¦¨à§à¦¨ à¦à¦¬à¦‚ à¦ªà§à¦°à¦¾à¦¯à¦¼à§‹à¦—à¦¿à¦• à¦…à¦¨à§à¦¶à§€à¦²à¦¨à§‡à¦° à¦®à¦¾à¦§à§à¦¯à¦®à§‡ à¦¨à¦¿à¦œà§‡à¦° à¦¤à¦¿à¦²à¦¾à¦“à¦¯à¦¼à¦¾à¦¤ à¦‰à¦¨à§à¦¨à¦¤ à¦•à¦°à§à¦¨à¥¤',
                'price' => 2500,
            ],
            [
                'title' => 'à¦¹à¦¾à¦¦à¦¿à¦¸ à¦¶à¦°à§€à¦« à¦…à¦§à§à¦¯à¦¯à¦¼à¦¨',
                'category' => 'hadith-education', 
                'description' => 'à¦¸à¦¹à§€à¦¹ à¦¬à§à¦–à¦¾à¦°à§€ à¦“ à¦®à§à¦¸à¦²à¦¿à¦® à¦¶à¦°à§€à¦«à§‡à¦° à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¿à¦¤ à¦¹à¦¾à¦¦à¦¿à¦¸ à¦¨à¦¿à¦¯à¦¼à§‡ à¦¬à¦¿à¦¸à§à¦¤à¦¾à¦°à¦¿à¦¤ à¦†à¦²à§‹à¦šà¦¨à¦¾à¥¤ à¦¹à¦¾à¦¦à¦¿à¦¸à§‡à¦° à¦¬à§à¦¯à¦¾à¦–à§à¦¯à¦¾ à¦“ à¦œà§€à¦¬à¦¨à§‡ à¦ªà§à¦°à¦¯à¦¼à§‹à¦—à¥¤',
                'price' => 3000,
            ],
            [
                'title' => 'à¦‡à¦¸à¦²à¦¾à¦®à§€ à¦«à¦¿à¦•à¦¹ à¦“ à¦®à¦¾à¦¸à¦¾à¦¯à¦¼à§‡à¦²',
                'category' => 'fiqh-studies',
                'description' => 'à¦¦à§ˆà¦¨à¦¨à§à¦¦à¦¿à¦¨ à¦œà§€à¦¬à¦¨à§‡à¦° à¦‡à¦¸à¦²à¦¾à¦®à§€ à¦†à¦‡à¦¨à¦•à¦¾à¦¨à§à¦¨à¥¤ à¦¨à¦¾à¦®à¦¾à¦œ, à¦°à§‹à¦œà¦¾, à¦¹à¦œ, à¦¯à¦¾à¦•à¦¾à¦¤ à¦à¦¬à¦‚ à¦²à§‡à¦¨à¦¦à§‡à¦¨à§‡à¦° à¦®à¦¾à¦¸à¦¾à¦¯à¦¼à§‡à¦²à¥¤',
                'price' => 2800,
            ],
            [
                'title' => 'à¦†à¦°à¦¬à¦¿ à¦­à¦¾à¦·à¦¾ à¦¶à¦¿à¦•à§à¦·à¦¾ (à¦ªà§à¦°à¦¾à¦¥à¦®à¦¿à¦•)',
                'category' => 'arabic-language',
                'description' => 'à¦•à§à¦°à¦†à¦¨-à¦¹à¦¾à¦¦à¦¿à¦¸ à¦¬à§‹à¦à¦¾à¦° à¦œà¦¨à§à¦¯ à¦†à¦°à¦¬à¦¿ à¦­à¦¾à¦·à¦¾à¦° à¦®à§Œà¦²à¦¿à¦• à¦œà§à¦žà¦¾à¦¨ à¦…à¦°à§à¦œà¦¨à¥¤ à¦¬à§à¦¯à¦¾à¦•à¦°à¦£ à¦“ à¦¶à¦¬à§à¦¦à¦­à¦¾à¦£à§à¦¡à¦¾à¦°à¥¤',
                'price' => 2200,
            ],
            [
                'title' => 'à¦‡à¦¸à¦²à¦¾à¦®à§€ à¦‡à¦¤à¦¿à¦¹à¦¾à¦¸ à¦“ à¦¸à§€à¦°à¦¾à¦¤',
                'category' => 'islamic-history',
                'description' => 'à¦°à¦¾à¦¸à§‚à¦² (à¦¸à¦¾.) à¦à¦° à¦œà§€à¦¬à¦¨à§€ à¦à¦¬à¦‚ à¦‡à¦¸à¦²à¦¾à¦®à§€ à¦‡à¦¤à¦¿à¦¹à¦¾à¦¸à§‡à¦° à¦—à§à¦°à§à¦¤à§à¦¬à¦ªà§‚à¦°à§à¦£ à¦˜à¦Ÿà¦¨à¦¾à¦¸à¦®à§‚à¦¹à¥¤ à¦¸à¦¾à¦¹à¦¾à¦¬à¦¾à¦¦à§‡à¦° à¦œà§€à¦¬à¦¨à§€à¥¤',
                'price' => 2000,
            ],
        ];

        $courses = [];
        foreach ($courseData as $index => $data) {
            $category = CourseCategory::where('slug', $data['category'])->first();
            $teacher = $teachers[$index % count($teachers)];
            $slug = \Str::slug($data['title']);
            
            $course = Course::firstOrCreate(
                ['slug' => $slug],
                [
                    'title' => $data['title'],
                    'full_description' => $data['description'],
                    'category_id' => $category->id,
                    'instructor_id' => $teacher->id,
                    'price' => $data['price'],
                    'status' => 'published',
                    'is_featured' => $index < 3, // First 3 courses are featured
                    'level' => 'beginner',
                    'currency' => 'BDT',
                    'duration_in_minutes' => rand(120, 480),
                ]
            );
            
            $courses[] = $course;
        }

        // Create students
        $studentData = [
            ['name' => 'à¦®à§‹à¦¹à¦¾à¦®à§à¦®à¦¦ à¦†à¦¬à¦¦à§à¦²à§à¦²à¦¾à¦¹', 'email' => 'abdullah@example.com'],
            ['name' => 'à¦«à¦¾à¦¤à¦¿à¦®à¦¾ à¦†à¦•à§à¦¤à¦¾à¦°', 'email' => 'fatima@example.com'],
            ['name' => 'à¦†à¦¹à¦®à¦¦ à¦¹à¦¾à¦¸à¦¾à¦¨', 'email' => 'ahmad@example.com'],
            ['name' => 'à¦†à¦¯à¦¼à§‡à¦¶à¦¾ à¦–à¦¾à¦¤à§à¦¨', 'email' => 'ayesha@example.com'],
            ['name' => 'à¦‰à¦®à¦° à¦«à¦¾à¦°à§à¦•', 'email' => 'umar@example.com'],
            ['name' => 'à¦–à¦¾à¦¦à¦¿à¦œà¦¾ à¦¬à§‡à¦—à¦®', 'email' => 'khadija@example.com'],
            ['name' => 'à¦‡à¦‰à¦¸à§à¦« à¦†à¦²à§€', 'email' => 'yusuf@example.com'],
            ['name' => 'à¦œà¦¯à¦¼à¦¨à¦¬ à¦°à¦¹à¦®à¦¾à¦¨', 'email' => 'zainab@example.com'],
            ['name' => 'à¦‡à¦¬à§à¦°à¦¾à¦¹à¦¿à¦® à¦–à¦¾à¦¨', 'email' => 'ibrahim@example.com'],
            ['name' => 'à¦®à¦¾à¦°à¦¿à¦¯à¦¼à¦¾à¦® à¦¸à¦¿à¦¦à§à¦¦à¦¿à¦•à¦¾', 'email' => 'mariam@example.com'],
        ];

        $students = [];
        foreach ($studentData as $data) {
            $user = User::firstOrCreate(
                ['email' => $data['email']],
                [
                    'name' => $data['name'],
                    'password' => bcrypt('password'),
                ]
            );
            
            $student = Student::firstOrCreate(
                ['user_id' => $user->id],
                [
                    'full_name' => $data['name'],
                    'phone' => '01' . rand(700000000, 999999999),
                    'is_active' => true,
                    'is_verified' => true,
                    'gender' => fake()->randomElement(['male', 'female']),
                    'city' => 'à¦¢à¦¾à¦•à¦¾',
                    'country' => 'Bangladesh',
                ]
            );
            
            $students[] = $student;
        }

        // Create enrollments (students enrolled in courses)
        foreach ($students as $student) {
            // Each student enrolls in 2-4 random courses
            $coursesToEnroll = fake()->randomElements($courses, fake()->numberBetween(2, 4));
            
            foreach ($coursesToEnroll as $course) {
                CourseEnrollment::firstOrCreate([
                    'student_id' => $student->id,
                    'course_id' => $course->id,
                ], [
                    'is_active' => true,
                    'enrolled_at' => fake()->dateTimeBetween('-6 months', '-1 month'),
                    'progress_percentage' => fake()->numberBetween(30, 100),
                    'is_completed' => fake()->boolean(70), // 70% chance of completion
                    'enrollment_type' => 'paid',
                    'lessons_completed' => fake()->numberBetween(1, 10),
                ]);
            }
        }

        // Create detailed reviews with Islamic content
        $islamicReviews = [
            [
                'title' => 'à¦…à¦¸à¦¾à¦§à¦¾à¦°à¦£ à¦‡à¦¸à¦²à¦¾à¦®à¦¿à¦• à¦¶à¦¿à¦•à§à¦·à¦¾',
                'review' => 'à¦®à¦¾à¦¶à¦¾à¦†à¦²à§à¦²à¦¾à¦¹! à¦à¦‡ à¦•à§‹à¦°à§à¦¸à¦Ÿà¦¿ à¦†à¦®à¦¾à¦° à¦‡à¦¸à¦²à¦¾à¦®à¦¿à¦• à¦œà§à¦žà¦¾à¦¨à§‡ à¦…à¦¨à§‡à¦• à¦¸à¦®à§ƒà¦¦à§à¦§à¦¿ à¦à¦¨à§‡à¦›à§‡à¥¤ à¦¶à¦¿à¦•à§à¦·à¦•à§‡à¦° à¦ªà¦¦à§à¦§à¦¤à¦¿ à¦–à§à¦¬à¦‡ à¦•à¦¾à¦°à§à¦¯à¦•à¦° à¦à¦¬à¦‚ à¦¬à§‹à¦§à¦—à¦®à§à¦¯à¥¤ à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ à¦ªà¦¾à¦  à¦¸à§à¦ªà¦·à§à¦Ÿ à¦à¦¬à¦‚ à¦¸à¦¹à¦œà¦­à¦¾à¦¬à§‡ à¦‰à¦ªà¦¸à§à¦¥à¦¾à¦ªà¦¨à¦¾ à¦•à¦°à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡à¥¤ à¦†à¦²à§à¦²à¦¾à¦¹ à¦¤à¦¾à¦†à¦²à¦¾ à¦¶à¦¿à¦•à§à¦·à¦•à¦¦à§‡à¦° à¦‰à¦¤à§à¦¤à¦® à¦ªà§à¦°à¦¤à¦¿à¦¦à¦¾à¦¨ à¦¦à¦¿à¦¨à¥¤',
                'rating' => 5,
            ],
            [
                'title' => 'à¦œà§€à¦¬à¦¨ à¦ªà¦°à¦¿à¦¬à¦°à§à¦¤à¦¨à¦•à¦¾à¦°à§€ à¦•à§‹à¦°à§à¦¸',
                'review' => 'à¦†à¦²à¦¹à¦¾à¦®à¦¦à§à¦²à¦¿à¦²à§à¦²à¦¾à¦¹! à¦à¦‡ à¦•à§‹à¦°à§à¦¸à§‡à¦° à¦®à¦¾à¦§à§à¦¯à¦®à§‡ à¦•à§à¦°à¦†à¦¨à§‡à¦° à¦—à¦­à§€à¦° à¦…à¦°à§à¦¥ à¦¬à§à¦à¦¤à§‡ à¦ªà§‡à¦°à§‡à¦›à¦¿à¥¤ à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ à¦•à§à¦²à¦¾à¦¸ à¦–à§à¦¬à¦‡ à¦®à¦¾à¦¨à¦¸à¦®à§à¦ªà¦¨à§à¦¨ à¦“ à¦¤à¦¥à§à¦¯à¦¬à¦¹à§à¦²à¥¤ à¦¶à¦¿à¦•à§à¦·à¦•à¦—à¦£ à¦…à¦¤à§à¦¯à¦¨à§à¦¤ à¦§à§ˆà¦°à§à¦¯à¦¶à§€à¦² à¦à¦¬à¦‚ à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ à¦ªà§à¦°à¦¶à§à¦¨à§‡à¦° à¦¸à§à¦¨à§à¦¦à¦° à¦‰à¦¤à§à¦¤à¦° à¦¦à¦¿à¦¯à¦¼à§‡ à¦¥à¦¾à¦•à§‡à¦¨à¥¤',
                'rating' => 5,
            ],
            [
                'title' => 'à¦šà¦®à§Žà¦•à¦¾à¦° à¦¹à¦¾à¦¦à¦¿à¦¸ à¦¬à§à¦¯à¦¾à¦–à§à¦¯à¦¾',
                'review' => 'à¦°à¦¾à¦¸à§‚à¦² (à¦¸à¦¾.) à¦à¦° à¦¹à¦¾à¦¦à¦¿à¦¸à§‡à¦° à¦¬à§à¦¯à¦¾à¦–à§à¦¯à¦¾ à¦à¦¤ à¦¸à§à¦¨à§à¦¦à¦°à¦­à¦¾à¦¬à§‡ à¦¦à§‡à¦“à¦¯à¦¼à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡ à¦¯à¦¾ à¦†à¦®à¦¾à¦° à¦¹à§ƒà¦¦à¦¯à¦¼à§‡ à¦—à¦­à§€à¦° à¦ªà§à¦°à¦­à¦¾à¦¬ à¦«à§‡à¦²à§‡à¦›à§‡à¥¤ à¦¬à¦¾à¦°à¦¾à¦•à¦¾à¦²à§à¦²à¦¾à¦¹à§ à¦«à§€à¦•à§à¦®! à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ à¦¹à¦¾à¦¦à¦¿à¦¸à§‡à¦° à¦ªà§à¦°à§‡à¦•à§à¦·à¦¾à¦ªà¦Ÿ à¦à¦¬à¦‚ à¦¶à¦¿à¦•à§à¦·à¦¾ à¦¨à¦¿à¦¯à¦¼à§‡ à¦¬à¦¿à¦¸à§à¦¤à¦¾à¦°à¦¿à¦¤ à¦†à¦²à§‹à¦šà¦¨à¦¾ à¦•à¦°à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡à¥¤',
                'rating' => 5,
            ],
            [
                'title' => 'à¦¬à§à¦¯à¦¤à¦¿à¦•à§à¦°à¦®à§€ à¦«à¦¿à¦•à¦¹ à¦¶à¦¿à¦•à§à¦·à¦¾',
                'review' => 'à¦¦à§ˆà¦¨à¦¨à§à¦¦à¦¿à¦¨ à¦œà§€à¦¬à¦¨à§‡à¦° à¦‡à¦¸à¦²à¦¾à¦®à§€ à¦†à¦‡à¦¨à¦•à¦¾à¦¨à§à¦¨ à¦à¦¤ à¦¸à¦¹à¦œà¦­à¦¾à¦¬à§‡ à¦¶à§‡à¦–à¦¾à¦¨à§‹ à¦¹à¦¯à¦¼à§‡à¦›à§‡ à¦¯à¦¾ à¦†à¦®à¦¾à¦° à¦œà§€à¦¬à¦¨à¦¯à¦¾à¦¤à§à¦°à¦¾à¦¯à¦¼ à¦‡à¦¤à¦¿à¦¬à¦¾à¦šà¦• à¦ªà¦°à¦¿à¦¬à¦°à§à¦¤à¦¨ à¦à¦¨à§‡à¦›à§‡à¥¤ à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ à¦®à¦¾à¦¸à¦†à¦²à¦¾ à¦¸à§à¦ªà¦·à§à¦Ÿ à¦¦à¦²à¦¿à¦²-à¦ªà§à¦°à¦®à¦¾à¦£à¦¸à¦¹ à¦¬à¦°à§à¦£à¦¨à¦¾ à¦•à¦°à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡à¥¤',
                'rating' => 5,
            ],
            [
                'title' => 'à¦†à¦§à§à¦¯à¦¾à¦¤à§à¦®à¦¿à¦• à¦‰à¦¨à§à¦¨à¦¤à¦¿',
                'review' => 'à¦¸à§à¦¬à¦¹à¦¾à¦¨à¦¾à¦²à§à¦²à¦¾à¦¹! à¦à¦‡ à¦•à§‹à¦°à§à¦¸ à¦¶à§à¦§à§ à¦œà§à¦žà¦¾à¦¨à¦‡ à¦¦à§‡à¦¯à¦¼à¦¨à¦¿, à¦†à¦§à§à¦¯à¦¾à¦¤à§à¦®à¦¿à¦• à¦‰à¦¨à§à¦¨à¦¤à¦¿à¦“ à¦à¦¨à§‡à¦›à§‡à¥¤ à¦¨à¦¾à¦®à¦¾à¦œà§‡ à¦–à§à¦¶à§-à¦–à§à¦œà§ à¦¬à§ƒà¦¦à§à¦§à¦¿ à¦ªà§‡à¦¯à¦¼à§‡à¦›à§‡ à¦à¦¬à¦‚ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦¸à¦¾à¦¥à§‡ à¦¸à¦®à§à¦ªà¦°à§à¦• à¦†à¦°à¦“ à¦—à¦­à§€à¦° à¦¹à¦¯à¦¼à§‡à¦›à§‡à¥¤',
                'rating' => 5,
            ],
            [
                'title' => 'à¦¸à¦®à¦¯à¦¼à§‹à¦ªà¦¯à§‹à¦—à§€ à¦¶à¦¿à¦•à§à¦·à¦¾',
                'review' => 'à¦†à¦§à§à¦¨à¦¿à¦• à¦¯à§à¦—à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦‡à¦¸à¦²à¦¾à¦®à¦¿à¦• à¦¶à¦¿à¦•à§à¦·à¦¾à¦° à¦šà¦®à§Žà¦•à¦¾à¦° à¦¸à¦®à¦¨à§à¦¬à¦¯à¦¼à¥¤ à¦…à¦¨à¦²à¦¾à¦‡à¦¨à§‡ à¦à¦¤ à¦®à¦¾à¦¨à¦¸à¦®à§à¦ªà¦¨à§à¦¨ à¦‡à¦¸à¦²à¦¾à¦®à¦¿à¦• à¦•à§‹à¦°à§à¦¸ à¦ªà§‡à¦¯à¦¼à§‡ à¦•à§ƒà¦¤à¦œà§à¦žà¥¤ à¦­à¦¿à¦¡à¦¿à¦“ à¦•à§‹à¦¯à¦¼à¦¾à¦²à¦¿à¦Ÿà¦¿ à¦à¦¬à¦‚ à¦…à¦¡à¦¿à¦“ à¦–à§à¦¬à¦‡ à¦ªà¦°à¦¿à¦·à§à¦•à¦¾à¦°à¥¤',
                'rating' => 4,
            ],
            [
                'title' => 'à¦¹à§ƒà¦¦à¦¯à¦¼à¦¸à§à¦ªà¦°à§à¦¶à§€ à¦¶à¦¿à¦•à§à¦·à¦¾',
                'review' => 'à¦¶à§à¦§à§ à¦®à§à¦–à¦¸à§à¦¥ à¦¨à¦¯à¦¼, à¦¬à¦°à¦‚ à¦…à¦¨à§à¦¤à¦°à§‡ à¦‡à¦¸à¦²à¦¾à¦®à§‡à¦° à¦®à§‚à¦²à§à¦¯à¦¬à§‹à¦§ à¦ªà§à¦°à¦¬à§‡à¦¶ à¦•à¦°à¦¿à¦¯à¦¼à§‡ à¦¦à¦¿à¦¯à¦¼à§‡à¦›à§‡ à¦à¦‡ à¦•à§‹à¦°à§à¦¸à¥¤ à¦œà¦¾à¦¯à¦¾à¦•à¦¾à¦²à§à¦²à¦¾à¦¹à§ à¦–à¦¾à¦¯à¦¼à¦°à¦¾à¦¨! à¦¶à¦¿à¦•à§à¦·à¦¾à¦°à§à¦¥à§€à¦¦à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦¶à¦¿à¦•à§à¦·à¦•à¦¦à§‡à¦° à¦†à¦šà¦°à¦£ à¦…à¦¤à§à¦¯à¦¨à§à¦¤ à¦¸à§à¦¨à§à¦¦à¦°à¥¤',
                'rating' => 5,
            ],
            [
                'title' => 'à¦ªà¦°à¦¿à¦¬à¦¾à¦° à¦“ à¦¸à¦®à¦¾à¦œà§‡à¦° à¦œà¦¨à§à¦¯ à¦•à¦²à§à¦¯à¦¾à¦£à¦•à¦°',
                'review' => 'à¦à¦‡ à¦•à§‹à¦°à§à¦¸ à¦¶à§à¦§à§ à¦†à¦®à¦¾à¦° à¦¨à¦¯à¦¼, à¦†à¦®à¦¾à¦° à¦ªà§à¦°à§‹ à¦ªà¦°à¦¿à¦¬à¦¾à¦°à§‡à¦° à¦œà¦¨à§à¦¯ à¦•à¦²à§à¦¯à¦¾à¦£ à¦¬à¦¯à¦¼à§‡ à¦à¦¨à§‡à¦›à§‡à¥¤ à¦¸à¦¬à¦¾à¦‡à¦•à§‡ à¦à¦‡ à¦•à§‹à¦°à§à¦¸ à¦•à¦°à¦¾à¦° à¦ªà¦°à¦¾à¦®à¦°à§à¦¶ à¦¦à¦¿à¦‡à¥¤ à¦¬à¦¿à¦¶à§‡à¦· à¦•à¦°à§‡ à¦ªà¦¾à¦°à¦¿à¦¬à¦¾à¦°à¦¿à¦• à¦¬à¦¿à¦·à¦¯à¦¼à§‡ à¦‡à¦¸à¦²à¦¾à¦®à§‡à¦° à¦¦à¦¿à¦•à¦¨à¦¿à¦°à§à¦¦à§‡à¦¶à¦¨à¦¾ à¦–à§à¦¬à¦‡ à¦•à¦¾à¦°à§à¦¯à¦•à¦°à¥¤',
                'rating' => 5,
            ],
            [
                'title' => 'à¦†à¦°à¦¬à¦¿ à¦­à¦¾à¦·à¦¾à¦¯à¦¼ à¦¦à¦•à§à¦·à¦¤à¦¾ à¦¬à§ƒà¦¦à§à¦§à¦¿',
                'review' => 'à¦†à¦°à¦¬à¦¿ à¦­à¦¾à¦·à¦¾ à¦¶à§‡à¦–à¦¾à¦° à¦•à§à¦·à§‡à¦¤à§à¦°à§‡ à¦à¦‡ à¦•à§‹à¦°à§à¦¸à¦Ÿà¦¿ à¦…à¦¤à§à¦¯à¦¨à§à¦¤ à¦¸à¦¹à¦¾à¦¯à¦¼à¦•à¥¤ à¦à¦–à¦¨ à¦•à§à¦°à¦†à¦¨ à¦ªà¦¡à¦¼à¦¤à§‡ à¦†à¦—à§‡à¦° à¦šà§‡à¦¯à¦¼à§‡ à¦…à¦¨à§‡à¦• à¦¸à¦¹à¦œ à¦²à¦¾à¦—à§‡ à¦à¦¬à¦‚ à¦•à¦¿à¦›à§ à¦•à¦¿à¦›à§ à¦…à¦°à§à¦¥ à¦¬à§à¦à¦¤à§‡ à¦ªà¦¾à¦°à¦¿à¥¤',
                'rating' => 4,
            ],
            [
                'title' => 'à¦šà¦®à§Žà¦•à¦¾à¦° à¦¸à§€à¦°à¦¾à¦¤ à¦¶à¦¿à¦•à§à¦·à¦¾',
                'review' => 'à¦°à¦¾à¦¸à§‚à¦² (à¦¸à¦¾.) à¦à¦° à¦œà§€à¦¬à¦¨à§€ à¦à¦¤ à¦¸à§à¦¨à§à¦¦à¦°à¦­à¦¾à¦¬à§‡ à¦‰à¦ªà¦¸à§à¦¥à¦¾à¦ªà¦¨ à¦•à¦°à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡ à¦¯à§‡ à¦®à¦¨à§‡ à¦¹à¦šà§à¦›à§‡ à¦¸à§‡à¦‡ à¦¯à§à¦—à§‡à¦° à¦˜à¦Ÿà¦¨à¦¾à¦—à§à¦²à§‹ à¦šà§‹à¦–à§‡à¦° à¦¸à¦¾à¦®à¦¨à§‡ à¦˜à¦Ÿà¦›à§‡à¥¤ à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ à¦˜à¦Ÿà¦¨à¦¾ à¦¥à§‡à¦•à§‡ à¦¶à¦¿à¦•à§à¦·à¦¾ à¦¨à¦¿à¦¯à¦¼à§‡ à¦œà§€à¦¬à¦¨à§‡ à¦ªà§à¦°à¦¯à¦¼à§‹à¦— à¦•à¦°à¦¾à¦° à¦šà§‡à¦·à§à¦Ÿà¦¾ à¦•à¦°à¦›à¦¿à¥¤',
                'rating' => 5,
            ],
            [
                'title' => 'à¦¬à¦¿à¦¸à§à¦¤à¦¾à¦°à¦¿à¦¤ à¦“ à¦—à¦­à§€à¦° à¦‡à¦¸à¦²à¦¾à¦®à¦¿à¦• à¦œà§à¦žà¦¾à¦¨ à¦…à¦°à§à¦œà¦¨à§‡à¦° à¦…à¦­à¦¿à¦œà§à¦žà¦¤à¦¾',
                'review' => 'à¦†à¦¸à§à¦¸à¦¾à¦²à¦¾à¦®à§ à¦†à¦²à¦¾à¦‡à¦•à§à¦® à¦“à¦¯à¦¼à¦¾ à¦°à¦¾à¦¹à¦®à¦¾à¦¤à§à¦²à§à¦²à¦¾à¦¹à¦¿ à¦“à¦¯à¦¼à¦¾ à¦¬à¦¾à¦°à¦¾à¦•à¦¾à¦¤à§à¦¹à§à¥¤ à¦†à¦®à¦¿ à¦à¦‡ à¦•à§‹à¦°à§à¦¸à§‡ à¦…à¦‚à¦¶à¦—à§à¦°à¦¹à¦£ à¦•à¦°à§‡ à¦…à¦¤à§à¦¯à¦¨à§à¦¤ à¦¸à¦¨à§à¦¤à§à¦·à§à¦Ÿ à¦à¦¬à¦‚ à¦•à§ƒà¦¤à¦œà§à¦žà¥¤ à¦†à¦²à¦¹à¦¾à¦®à¦¦à§à¦²à¦¿à¦²à§à¦²à¦¾à¦¹à¦¿ à¦°à¦¾à¦¬à§à¦¬à¦¿à¦² à¦†à¦²à¦¾à¦®à§€à¦¨! à¦à¦‡ à¦•à§‹à¦°à§à¦¸à¦Ÿà¦¿ à¦†à¦®à¦¾à¦° à¦‡à¦¸à¦²à¦¾à¦®à¦¿à¦• à¦œà§à¦žà¦¾à¦¨à§‡ à¦à¦• à¦¨à¦¤à§à¦¨ à¦®à¦¾à¦¤à§à¦°à¦¾ à¦¯à§‹à¦— à¦•à¦°à§‡à¦›à§‡à¥¤ à¦ªà§à¦°à¦¥à¦®à¦¤, à¦¶à¦¿à¦•à§à¦·à¦•à¦—à¦£à§‡à¦° à¦œà§à¦žà¦¾à¦¨à§‡à¦° à¦—à¦­à§€à¦°à¦¤à¦¾ à¦“ à¦‰à¦ªà¦¸à§à¦¥à¦¾à¦ªà¦¨à¦¾à¦° à¦¦à¦•à§à¦·à¦¤à¦¾ à¦¸à¦¤à§à¦¯à¦¿à¦‡ à¦ªà§à¦°à¦¶à¦‚à¦¸à¦¨à§€à¦¯à¦¼à¥¤ à¦¤à¦¾à¦à¦°à¦¾ à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ à¦¬à¦¿à¦·à¦¯à¦¼ à¦•à§à¦°à¦†à¦¨ à¦“ à¦¸à¦¹à§€à¦¹ à¦¹à¦¾à¦¦à¦¿à¦¸à§‡à¦° à¦†à¦²à§‹à¦•à§‡ à¦à¦¤ à¦¸à§à¦¨à§à¦¦à¦°à¦­à¦¾à¦¬à§‡ à¦¬à§à¦¯à¦¾à¦–à§à¦¯à¦¾ à¦•à¦°à§‡à¦›à§‡à¦¨ à¦¯à§‡, à¦œà¦Ÿà¦¿à¦² à¦¬à¦¿à¦·à¦¯à¦¼à¦—à§à¦²à§‹à¦“ à¦¸à¦¹à¦œ à¦¹à¦¯à¦¼à§‡ à¦—à§‡à¦›à§‡à¥¤ à¦¦à§à¦¬à¦¿à¦¤à§€à¦¯à¦¼à¦¤, à¦•à§‹à¦°à§à¦¸à§‡à¦° à¦•à¦¨à§à¦Ÿà§‡à¦¨à§à¦Ÿ à¦…à¦¤à§à¦¯à¦¨à§à¦¤ à¦¸à§à¦¸à¦‚à¦—à¦ à¦¿à¦¤ à¦à¦¬à¦‚ à¦¯à§à¦—à§‹à¦ªà¦¯à§‹à¦—à§€à¥¤ à¦†à¦§à§à¦¨à¦¿à¦• à¦¸à¦®à¦¾à¦œà§‡à¦° à¦šà§à¦¯à¦¾à¦²à§‡à¦žà§à¦œà¦—à§à¦²à§‹à¦° à¦‡à¦¸à¦²à¦¾à¦®à¦¿à¦• à¦¸à¦®à¦¾à¦§à¦¾à¦¨ à¦¨à¦¿à¦¯à¦¼à§‡ à¦¯à§‡ à¦†à¦²à§‹à¦šà¦¨à¦¾ à¦•à¦°à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡, à¦¤à¦¾ à¦†à¦®à¦¾à¦° à¦¦à§ˆà¦¨à¦¨à§à¦¦à¦¿à¦¨ à¦œà§€à¦¬à¦¨à§‡ à¦…à¦¨à§‡à¦• à¦¸à¦¾à¦¹à¦¾à¦¯à§à¦¯ à¦•à¦°à§‡à¦›à§‡à¥¤ à¦¤à§ƒà¦¤à§€à¦¯à¦¼à¦¤, à¦…à¦¨à¦²à¦¾à¦‡à¦¨ à¦ªà§à¦²à§à¦¯à¦¾à¦Ÿà¦«à¦°à§à¦®à§‡à¦° à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦…à¦¤à§à¦¯à¦¨à§à¦¤ à¦¸à¦¹à¦œ à¦à¦¬à¦‚ à¦­à¦¿à¦¡à¦¿à¦“ à¦•à§‹à¦¯à¦¼à¦¾à¦²à¦¿à¦Ÿà¦¿ à¦šà¦®à§Žà¦•à¦¾à¦°à¥¤ à¦šà¦¤à§à¦°à§à¦¥à¦¤, à¦¶à¦¿à¦•à§à¦·à¦¾à¦°à§à¦¥à§€à¦¦à§‡à¦° à¦ªà§à¦°à¦¶à§à¦¨à§‡à¦° à¦‰à¦¤à§à¦¤à¦° à¦¦à§‡à¦“à¦¯à¦¼à¦¾à¦° à¦•à§à¦·à§‡à¦¤à§à¦°à§‡ à¦¶à¦¿à¦•à§à¦·à¦•à¦—à¦£à§‡à¦° à¦§à§ˆà¦°à§à¦¯ à¦“ à¦†à¦¨à§à¦¤à¦°à¦¿à¦•à¦¤à¦¾ à¦¸à¦¤à§à¦¯à¦¿à¦‡ à¦¹à§ƒà¦¦à¦¯à¦¼à¦¸à§à¦ªà¦°à§à¦¶à§€à¥¤ à¦ªà¦žà§à¦šà¦®à¦¤, à¦à¦‡ à¦•à§‹à¦°à§à¦¸ à¦¶à§à¦§à§ à¦¤à¦¾à¦¤à§à¦¤à§à¦¬à¦¿à¦• à¦œà§à¦žà¦¾à¦¨à¦‡ à¦¦à§‡à¦¯à¦¼à¦¨à¦¿, à¦¬à¦°à¦‚ à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦°à¦¿à¦• à¦œà§€à¦¬à¦¨à§‡ à¦‡à¦¸à¦²à¦¾à¦® à¦šà¦°à§à¦šà¦¾à¦° à¦ªà¦¥à¦“ à¦¦à§‡à¦–à¦¿à¦¯à¦¼à§‡à¦›à§‡à¥¤ à¦†à¦®à¦¾à¦° à¦¨à¦¾à¦®à¦¾à¦œ, à¦¯à¦¿à¦•à¦¿à¦°, à¦¤à¦¿à¦²à¦¾à¦“à¦¯à¦¼à¦¾à¦¤ - à¦¸à¦¬à¦•à¦¿à¦›à§à¦¤à§‡à¦‡ à¦à¦• à¦¨à¦¤à§à¦¨ à¦®à¦¾à¦¤à§à¦°à¦¾ à¦à¦¸à§‡à¦›à§‡à¥¤ à¦·à¦·à§à¦ à¦¤, à¦ªà¦¾à¦°à¦¿à¦¬à¦¾à¦°à¦¿à¦• à¦œà§€à¦¬à¦¨à§‡ à¦‡à¦¸à¦²à¦¾à¦®à¦¿à¦• à¦®à§‚à¦²à§à¦¯à¦¬à§‹à¦§ à¦ªà§à¦°à¦¤à¦¿à¦·à§à¦ à¦¾à¦° à¦¯à§‡ à¦¦à¦¿à¦•à¦¨à¦¿à¦°à§à¦¦à§‡à¦¶à¦¨à¦¾ à¦ªà§‡à¦¯à¦¼à§‡à¦›à¦¿, à¦¤à¦¾ à¦…à¦®à§‚à¦²à§à¦¯à¥¤ à¦†à¦®à¦¾à¦° à¦¸à§à¦¤à§à¦°à§€ à¦“ à¦¸à¦¨à§à¦¤à¦¾à¦¨à¦¦à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦¸à¦®à§à¦ªà¦°à§à¦•à§‡à¦° à¦‰à¦¨à§à¦¨à¦¤à¦¿ à¦¹à¦¯à¦¼à§‡à¦›à§‡à¥¤ à¦¸à¦ªà§à¦¤à¦®à¦¤, à¦¸à¦®à¦¾à¦œà§‡ à¦à¦•à¦œà¦¨ à¦®à§à¦¸à¦²à¦¿à¦® à¦¹à¦¿à¦¸à§‡à¦¬à§‡ à¦†à¦®à¦¾à¦° à¦¦à¦¾à¦¯à¦¼à¦¿à¦¤à§à¦¬ à¦“ à¦•à¦°à§à¦¤à¦¬à§à¦¯ à¦¸à¦®à§à¦ªà¦°à§à¦•à§‡ à¦¸à§à¦ªà¦·à§à¦Ÿ à¦§à¦¾à¦°à¦£à¦¾ à¦ªà§‡à¦¯à¦¼à§‡à¦›à¦¿à¥¤ à¦…à¦·à§à¦Ÿà¦®à¦¤, à¦†à¦–à¦¿à¦°à¦¾à¦¤à§‡à¦° à¦œà¦¬à¦¾à¦¬à¦¦à¦¿à¦¹à¦¿à¦¤à¦¾à¦° à¦¬à¦¿à¦·à¦¯à¦¼à¦Ÿà¦¿ à¦†à¦°à¦“ à¦—à¦­à§€à¦°à¦­à¦¾à¦¬à§‡ à¦‰à¦ªà¦²à¦¬à§à¦§à¦¿ à¦•à¦°à§‡à¦›à¦¿à¥¤ à¦¨à¦¬à¦®à¦¤, à¦à¦‡ à¦•à§‹à¦°à§à¦¸à§‡à¦° à¦®à¦¾à¦§à§à¦¯à¦®à§‡ à¦†à¦®à¦¾à¦° à¦ˆà¦®à¦¾à¦¨ à¦†à¦°à¦“ à¦¶à¦•à§à¦¤à¦¿à¦¶à¦¾à¦²à§€ à¦¹à¦¯à¦¼à§‡à¦›à§‡ à¦à¦¬à¦‚ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦‰à¦ªà¦° à¦­à¦°à¦¸à¦¾ à¦¬à§ƒà¦¦à§à¦§à¦¿ à¦ªà§‡à¦¯à¦¼à§‡à¦›à§‡à¥¤ à¦¦à¦¶à¦®à¦¤, à¦†à¦®à¦¿ à¦à¦‡ à¦•à§‹à¦°à§à¦¸à¦Ÿà¦¿ à¦¸à¦¬à¦¾à¦° à¦•à¦¾à¦›à§‡ à¦¸à§à¦ªà¦¾à¦°à¦¿à¦¶ à¦•à¦°à¦¿, à¦¬à¦¿à¦¶à§‡à¦· à¦•à¦°à§‡ à¦¯à¦¾à¦°à¦¾ à¦¸à¦¤à§à¦¯à¦¿à¦•à¦¾à¦°à§‡à¦° à¦‡à¦¸à¦²à¦¾à¦®à¦¿à¦• à¦œà§€à¦¬à¦¨ à¦¯à¦¾à¦ªà¦¨ à¦•à¦°à¦¤à§‡ à¦šà¦¾à¦¨à¥¤ à¦†à¦²à§à¦²à¦¾à¦¹ à¦¤à¦¾à¦†à¦²à¦¾ à¦à¦‡ à¦ªà§à¦°à¦¤à¦¿à¦·à§à¦ à¦¾à¦¨à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦¯à§à¦•à§à¦¤ à¦¸à¦¬à¦¾à¦‡à¦•à§‡ à¦‰à¦¤à§à¦¤à¦® à¦ªà§à¦°à¦¤à¦¿à¦¦à¦¾à¦¨ à¦¦à¦¿à¦¨ à¦à¦¬à¦‚ à¦à¦‡ à¦‰à¦¦à§à¦¯à§‹à¦—à¦•à§‡ à¦†à¦°à¦“ à¦¬à¦¿à¦¸à§à¦¤à§ƒà¦¤ à¦•à¦°à¦¾à¦° à¦¤à¦¾à¦“à¦«à§€à¦• à¦¦à¦¿à¦¨à¥¤ à¦†à¦®à§€à¦¨ à¦‡à¦¯à¦¼à¦¾ à¦°à¦¾à¦¬à§à¦¬à¦¾à¦² à¦†à¦²à¦¾à¦®à§€à¦¨à¥¤ à¦¬à¦¾à¦°à¦¾à¦•à¦¾à¦²à§à¦²à¦¾à¦¹à§ à¦«à§€à¦•à§à¦® à¦œà¦¾à¦®à§€à¦†à¦¨à¥¤',
                'rating' => 5,
            ],
        ];

        // Create all enrollments first, then create reviews for enrolled students
        $enrollments = CourseEnrollment::all();
        $reviewIndex = 0;

        foreach ($enrollments as $enrollment) {
            // 80% chance that an enrolled student will leave a review and no existing review
            if (fake()->boolean(80) && $reviewIndex < count($islamicReviews)) {
                // Check if review already exists for this student-course combination
                $existingReview = CourseReview::where('course_id', $enrollment->course_id)
                    ->where('student_id', $enrollment->student_id)
                    ->first();
                
                if (!$existingReview) {
                    $reviewData = $islamicReviews[$reviewIndex % count($islamicReviews)];
                    
                    $review = CourseReview::create([
                        'course_id' => $enrollment->course_id,
                        'student_id' => $enrollment->student_id,
                        'user_id' => $enrollment->student->user_id,
                        'title' => $reviewData['title'],
                        'review_text' => $reviewData['review'],
                        'rating' => $reviewData['rating'],
                        'status' => fake()->randomElement(['approved', 'approved', 'approved', 'pending']), // 75% approved
                        'approved_at' => fake()->boolean(75) ? fake()->dateTimeBetween('-2 months', 'now') : null,
                        'approved_by' => fake()->boolean(75) ? User::first()->id : null,
                        'is_featured' => false, // Will be set later
                        'is_verified_purchase' => true, // All are verified since they're enrolled
                        'helpful_count' => fake()->numberBetween(0, 25),
                        'reported_count' => fake()->numberBetween(0, 2),
                        'metadata' => [
                            'progress_at_review' => $enrollment->progress_percentage,
                            'completed_course' => $enrollment->is_completed,
                        ],
                    ]);
                }

                $reviewIndex++;
            }
        }

        // Mark some high-rated reviews as featured (max 6)
        // First, mark the long review as featured for testing
        $longReview = CourseReview::where('title', 'à¦¬à¦¿à¦¸à§à¦¤à¦¾à¦°à¦¿à¦¤ à¦“ à¦—à¦­à§€à¦° à¦‡à¦¸à¦²à¦¾à¦®à¦¿à¦• à¦œà§à¦žà¦¾à¦¨ à¦…à¦°à§à¦œà¦¨à§‡à¦° à¦…à¦­à¦¿à¦œà§à¦žà¦¤à¦¾')->first();
        if ($longReview) {
            $longReview->update([
                'is_featured' => true,
                'status' => 'approved',
                'approved_at' => now(),
                'approved_by' => User::first()->id,
            ]);
        }

        // Then mark other high-rated reviews as featured (max 5 more to make total 6)
        $featuredReviews = CourseReview::approved()
            ->where('rating', '>=', 4)
            ->where('is_featured', false) // Don't include the long review again
            ->orderBy('helpful_count', 'desc')
            ->orderBy('rating', 'desc')
            ->limit(5)
            ->get();

        foreach ($featuredReviews as $review) {
            $review->update(['is_featured' => true]);
        }

        // Create helpful votes for reviews (avoid duplicates)
        $reviews = CourseReview::all();
        foreach ($reviews as $review) {
            $voteCount = fake()->numberBetween(0, min($review->helpful_count, 5)); // Limit to prevent too many duplicates
            $usedVoters = [];
            
            for ($i = 0; $i < $voteCount; $i++) {
                // Mix of authenticated user votes and guest votes
                if (fake()->boolean(60)) {
                    // Authenticated user vote - avoid duplicates
                    $studentUserIds = collect($students)->pluck('user_id')->toArray();
                    $availableVoters = array_diff($studentUserIds, $usedVoters);
                    if (!empty($availableVoters)) {
                        $voterId = fake()->randomElement($availableVoters);
                        $usedVoters[] = $voterId;
                        
                        CourseReviewHelpfulVote::firstOrCreate([
                            'review_id' => $review->id,
                            'user_id' => $voterId,
                        ], [
                            'ip_address' => null,
                            'session_id' => null,
                        ]);
                    }
                } else {
                    // Guest vote
                    CourseReviewHelpfulVote::create([
                        'review_id' => $review->id,
                        'user_id' => null,
                        'ip_address' => fake()->ipv4,
                        'session_id' => fake()->uuid,
                    ]);
                }
            }
        }

        $totalReviews = CourseReview::count();
        $approvedReviews = CourseReview::approved()->count();
        $featuredCount = CourseReview::where('is_featured', true)->count();

        $this->command->info("âœ… Review system seeded successfully!");
        $this->command->info("ðŸ“Š Created {$totalReviews} reviews ({$approvedReviews} approved, {$featuredCount} featured)");
        $this->command->info("ðŸ‘¥ Created " . count($students) . " students with enrollments");
        $this->command->info("ðŸ“š Created " . count($courses) . " courses across " . count($categories) . " categories");
    }
}