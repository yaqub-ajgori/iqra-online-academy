<template>
    <FrontendLayout title="‡¶á‡¶ï‡¶∞‡¶æ ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø - ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶Ø‡¶º ‡¶®‡¶§‡ßÅ‡¶® ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞‡¶æ">
        <Head title="‡¶á‡¶ï‡¶∞‡¶æ ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø - ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶Ø‡¶º ‡¶®‡¶§‡ßÅ‡¶® ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞‡¶æ">
            <meta
                name="description"
                content="‡¶á‡¶ï‡¶∞‡¶æ ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø - ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®, ‡¶π‡¶æ‡¶¶‡¶ø‡¶∏ ‡¶ì ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶ú‡ßç‡¶û‡¶æ‡¶®‡¶ö‡¶∞‡ßç‡¶ö‡¶æ‡¶Ø‡¶º ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶∏‡¶Æ‡¶®‡ßç‡¶¨‡¶Ø‡¶º‡ßá ‡¶ó‡¶°‡¶º‡ßá ‡¶§‡ßÅ‡¶≤‡ßÅ‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶ß‡ßç‡¶Ø‡¶æ‡¶§‡ßç‡¶Æ‡¶ø‡¶ï ‡¶ú‡ßÄ‡¶¨‡¶®‡•§ ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶® ‡¶ò‡¶∞‡ßá ‡¶¨‡¶∏‡ßá‡¶á‡•§"
            />
            <meta name="keywords" content="‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ, ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®, ‡¶π‡¶æ‡¶¶‡¶ø‡¶∏, ‡¶´‡¶ø‡¶ï‡¶π, ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶ï‡ßã‡¶∞‡ßç‡¶∏, ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø, ‡¶á‡¶ï‡¶∞‡¶æ" />
            <meta property="og:title" content="‡¶á‡¶ï‡¶∞‡¶æ ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø - ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶Ø‡¶º ‡¶®‡¶§‡ßÅ‡¶® ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞‡¶æ" />
            <meta
                property="og:description"
                content="‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®, ‡¶π‡¶æ‡¶¶‡¶ø‡¶∏ ‡¶ì ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶ú‡ßç‡¶û‡¶æ‡¶®‡¶ö‡¶∞‡ßç‡¶ö‡¶æ‡¶Ø‡¶º ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶∏‡¶Æ‡¶®‡ßç‡¶¨‡¶Ø‡¶º‡ßá ‡¶ó‡¶°‡¶º‡ßá ‡¶§‡ßÅ‡¶≤‡ßÅ‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶ß‡ßç‡¶Ø‡¶æ‡¶§‡ßç‡¶Æ‡¶ø‡¶ï ‡¶ú‡ßÄ‡¶¨‡¶®‡•§"
            />
            <meta property="og:type" content="website" />
            <meta property="og:url" content="https://iqra-online-academy.com" />
        </Head>

        <!-- Enhanced Hero Section with Better Animations -->
        <section class="relative overflow-hidden bg-gradient-to-br from-slate-50 via-white to-blue-50/30 pt-4 pb-8 sm:py-12 lg:py-28">
            <!-- Enhanced Gradient Background -->
            <div class="absolute inset-0 bg-gradient-to-br from-[#5f5fcd]/5 via-transparent to-[#2d5a27]/4"></div>

            <!-- Animated Pattern Overlay -->
            <div class="absolute inset-0 animate-pulse opacity-[0.03]">
                <div
                    class="absolute inset-0 bg-[#5f5fcd]"
                    style="mask-image: radial-gradient(circle at 1px 1px, black 0.5px, transparent 0); mask-size: 20px 20px"
                ></div>
            </div>

            <!-- Enhanced Floating Elements with Animation -->
            <div
                class="animate-float absolute top-24 right-8 h-64 w-64 rounded-full bg-gradient-to-br from-[#5f5fcd]/8 to-[#2d5a27]/6 blur-3xl"
            ></div>
            <div
                class="animate-float-delayed absolute bottom-24 left-8 h-48 w-48 rounded-full bg-gradient-to-br from-[#d4a574]/10 to-[#5f5fcd]/8 blur-3xl"
            ></div>

            <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 gap-12 lg:grid-cols-2 lg:items-center lg:gap-20">
                    <!-- Enhanced Hero Content with Animations -->
                    <div class="animate-fade-in text-center lg:text-left">
                        <!-- Enhanced Trust Badge -->
                        <div
                            class="mb-8 inline-flex items-center rounded-full border border-[#5f5fcd]/20 bg-gradient-to-r from-[#5f5fcd]/10 to-[#2d5a27]/10 px-4 py-2 backdrop-blur-sm transition-transform duration-300 hover:scale-105"
                        >
                            <span class="text-sm font-medium text-[#5f5fcd]">üïå ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶∏‡ßç‡¶§ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ</span>
                        </div>

                        <!-- Enhanced Hero Title with Typing Animation -->
                        <h1 class="mb-2 text-2xl leading-tight font-bold sm:text-4xl lg:text-6xl">
                            <span class="text-gradient-islamic animate-gradient-shift">‡¶á‡¶ï‡¶∞‡¶æ ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø</span>
                            <br />
                            <span class="text-gray-800">‡¶§‡ßá ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ</span>
                        </h1>
                        <h2 class="mb-6 text-base font-semibold text-[#5f5fcd]">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ #‡ßß ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø</h2>

                        <!-- Enhanced Value Proposition -->
                        <p class="mb-8 max-w-2xl text-lg leading-relaxed text-gray-600 lg:text-xl">
                            ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®, ‡¶π‡¶æ‡¶¶‡¶ø‡¶∏ ‡¶ì ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶ú‡ßç‡¶û‡¶æ‡¶®‡¶ö‡¶∞‡ßç‡¶ö‡¶æ‡¶Ø‡¶º ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶∏‡¶Æ‡¶®‡ßç‡¶¨‡¶Ø‡¶º‡ßá ‡¶ó‡¶°‡¶º‡ßá ‡¶§‡ßÅ‡¶≤‡ßÅ‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶ß‡ßç‡¶Ø‡¶æ‡¶§‡ßç‡¶Æ‡¶ø‡¶ï ‡¶ú‡ßÄ‡¶¨‡¶®‡•§ ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá
                            ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶® ‡¶ò‡¶∞‡ßá ‡¶¨‡¶∏‡ßá‡¶á‡•§
                        </p>

                        <!-- Enhanced Stats with Counter Animation -->
                        <div class="mb-8 grid grid-cols-2 gap-4 sm:mb-10 sm:grid-cols-4 sm:gap-8">
                            <div class="group animate-stat-in text-center" style="animation-delay: 0s">
                                <div class="mb-1 text-2xl font-bold text-[#5f5fcd] sm:mb-2 sm:text-3xl lg:text-4xl">
                                    {{ toBanglaNumber(displayCourses) }}+
                                </div>
                                <div class="text-xs text-gray-600 sm:text-sm">‡¶ï‡ßã‡¶∞‡ßç‡¶∏</div>
                            </div>
                            <div class="group animate-stat-in text-center" style="animation-delay: 0.1s">
                                <div class="mb-1 text-2xl font-bold text-[#2d5a27] sm:mb-2 sm:text-3xl lg:text-4xl">
                                    {{ toBanglaNumber(displayStudents) }}+
                                </div>
                                <div class="text-xs text-gray-600 sm:text-sm">‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ</div>
                            </div>
                            <div class="group animate-stat-in text-center" style="animation-delay: 0.2s">
                                <div class="mb-1 text-2xl font-bold text-[#d4a574] sm:mb-2 sm:text-3xl lg:text-4xl">
                                    {{ toBanglaNumber(displayHappyStudents) }}+
                                </div>
                                <div class="text-xs text-gray-600 sm:text-sm">‡¶∏‡¶®‡ßç‡¶§‡ßÅ‡¶∑‡ßç‡¶ü ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ</div>
                            </div>
                            <div class="group animate-stat-in text-center" style="animation-delay: 0.3s">
                                <div class="mb-1 text-2xl font-bold text-[#d4a574] sm:mb-2 sm:text-3xl lg:text-4xl">
                                    {{ displayRating.toFixed(1) }}
                                </div>
                                <div class="text-xs text-gray-600 sm:text-sm">‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç</div>
                            </div>
                        </div>

                        <!-- Enhanced CTAs with Hover Effects -->
                        <div class="mb-6 flex flex-row justify-center gap-3 sm:mb-8 sm:gap-4 lg:justify-start">
                            <PrimaryButton
                                :href="route('frontend.courses.index')"
                                tag="a"
                                size="lg"
                                variant="primary"
                                :icon="BookOpenIcon"
                                class="flex-1 shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-xl sm:max-w-xs"
                            >
                                ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                            </PrimaryButton>

                            <PrimaryButton
                                :href="route('frontend.about')"
                                tag="a"
                                size="lg"
                                variant="outline"
                                :icon="InfoIcon"
                                class="flex-1 border-gray-200 transition-all duration-300 hover:scale-105 hover:border-[#5f5fcd]/30 sm:max-w-xs"
                            >
                                ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶™‡¶∞‡¶ø‡¶ö‡¶ø‡¶§‡¶ø
                            </PrimaryButton>
                        </div>

                        <!-- Enhanced Social Proof -->
                        <div class="flex flex-wrap items-center justify-center gap-6 text-sm text-gray-600 lg:justify-start">
                            <div class="flex items-center space-x-2">
                                <div class="flex -space-x-1">
                                    <img
                                        class="h-6 w-6 rounded-full border border-white"
                                        src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=24&h=24&fit=crop&crop=face"
                                        alt=""
                                    />
                                    <img
                                        class="h-6 w-6 rounded-full border border-white"
                                        src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=24&h=24&fit=crop&crop=face"
                                        alt=""
                                    />
                                    <img
                                        class="h-6 w-6 rounded-full border border-white"
                                        src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=24&h=24&fit=crop&crop=face"
                                        alt=""
                                    />
                                </div>
                                <span>{{ toBanglaNumber(displayHappyStudents) }}+ ‡¶∏‡¶®‡ßç‡¶§‡ßÅ‡¶∑‡ßç‡¶ü ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ</span>
                            </div>
                            <div class="flex items-center space-x-1">
                                <div class="flex space-x-1 text-[#d4a574]">
                                    <StarIcon class="h-4 w-4 fill-current" />
                                    <StarIcon class="h-4 w-4 fill-current" />
                                    <StarIcon class="h-4 w-4 fill-current" />
                                    <StarIcon class="h-4 w-4 fill-current" />
                                    <StarIcon class="h-4 w-4 fill-current" />
                                </div>
                                <span>{{ displayRating.toFixed(1) }} ‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç</span>
                            </div>
                        </div>
                    </div>

                    <!-- Enhanced Hero Image with Better Animations -->
                    <div class="animate-slide-up relative">
                        <!-- Main Image with Enhanced Effects -->
                        <div class="group relative">
                            <div class="group-hover:shadow-3xl aspect-[4/3] overflow-hidden rounded-2xl shadow-2xl transition-all duration-500">
                                <img
                                    src="https://images.unsplash.com/photo-1542816417-0983c9c9ad53?w=600&h=450&fit=crop"
                                    alt="‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ - ‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶® ‡¶ì ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶´‡¶ø"
                                    class="h-full w-full object-cover transition-transform duration-700 group-hover:scale-105"
                                    loading="lazy"
                                />

                                <!-- Enhanced Islamic Pattern Overlay -->
                                <div class="absolute inset-0 bg-gradient-to-t from-[#5f5fcd]/15 via-transparent to-[#2d5a27]/8"></div>
                            </div>

                            <!-- Enhanced Floating Elements -->
                            <div
                                class="absolute -top-4 -left-4 flex h-20 w-20 animate-bounce items-center justify-center rounded-xl bg-gradient-to-br from-[#5f5fcd] to-[#2d5a27] shadow-lg"
                            >
                                <BookOpenIcon class="h-8 w-8 text-white" aria-hidden="true" />
                            </div>

                            <div
                                class="animate-bounce-delayed absolute -right-4 -bottom-4 flex h-16 w-16 items-center justify-center rounded-xl bg-gradient-to-br from-[#d4a574] to-[#5f5fcd] shadow-lg"
                            >
                                <AwardIcon class="h-6 w-6 text-white" aria-hidden="true" />
                            </div>
                        </div>

                        <!-- Enhanced Achievement Cards -->

                        <div
                            class="absolute bottom-8 -left-6 rounded-lg border border-gray-100 bg-white/95 p-3 shadow-lg backdrop-blur-sm transition-transform duration-300 hover:scale-110"
                        >
                            <div class="text-center">
                                <div class="text-sm font-bold text-[#d4a574]">‡ß®‡ß™/‡ß≠</div>
                                <div class="text-xs text-gray-500">‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Enhanced Featured Courses Section -->
        <section class="relative overflow-hidden bg-gradient-to-br from-gray-50 via-white to-slate-50 py-12 sm:py-20">
            <!-- Subtle Background Pattern -->
            <div class="absolute inset-0 bg-gradient-to-br from-[#5f5fcd]/3 via-transparent to-[#2d5a27]/2"></div>

            <!-- Floating Elements -->
            <div
                class="animate-float absolute top-20 right-20 h-32 w-32 rounded-full bg-gradient-to-br from-[#d4a574]/8 to-transparent blur-2xl"
            ></div>
            <div
                class="animate-float-delayed absolute bottom-20 left-20 h-40 w-40 rounded-full bg-gradient-to-tl from-[#5f5fcd]/6 to-transparent blur-2xl"
            ></div>

            <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <SectionHeader
                    title="‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶∏‡¶Æ‡ßÇ‡¶π"
                    subtitle="‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡ßá‡¶∞‡¶æ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®"
                    description="‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®, ‡¶π‡¶æ‡¶¶‡¶ø‡¶∏, ‡¶´‡¶ø‡¶ï‡¶π ‡¶è‡¶¨‡¶Ç ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶ú‡ßÄ‡¶¨‡¶®‡¶Ø‡¶æ‡¶§‡ßç‡¶∞‡¶æ‡¶∞ ‡¶â‡¶™‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑‡¶ú‡ßç‡¶û ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï‡¶¶‡ßá‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ó‡ßÅ‡¶≤‡ßã ‡¶è‡¶ñ‡¶®‡¶á ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"
                    variant="gradient"
                    size="lg"
                >
                    <template #cta>
                        <PrimaryButton :href="route('frontend.courses.index')" tag="a" variant="accent" :icon="ArrowRightIcon" icon-position="right">
                            ‡¶∏‡¶¨ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                        </PrimaryButton>
                    </template>
                </SectionHeader>

                <!-- Enhanced Course Grid -->
                <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-8 lg:grid-cols-3">
                    <CourseCard v-for="(course, index) in featuredCourses" :key="course?.id || index" :course="course" @enroll="handleCourseEnroll" />
                </div>
            </div>
        </section>

        <!-- Enhanced Testimonials Section -->
        <WhenVisible>
            <section class="relative overflow-hidden bg-gradient-to-br from-white via-blue-50/20 to-slate-50 py-12 sm:py-20">
                <!-- Subtle Background Pattern -->
                <div class="absolute inset-0 bg-gradient-to-br from-[#2d5a27]/2 via-transparent to-[#d4a574]/3"></div>

                <!-- Floating Elements -->
                <div
                    class="animate-float absolute top-32 left-32 h-24 w-24 rounded-full bg-gradient-to-br from-[#5f5fcd]/8 to-transparent blur-2xl"
                ></div>
                <div
                    class="animate-float-delayed absolute right-32 bottom-32 h-36 w-36 rounded-full bg-gradient-to-tl from-[#2d5a27]/6 to-transparent blur-2xl"
                ></div>

                <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                    <SectionHeader
                        title="‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§"
                        subtitle="‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶®‡ßç‡¶§‡ßÅ‡¶∑‡ßç‡¶ü ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ"
                        description="‡¶á‡¶ï‡¶∞‡¶æ ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø‡¶§‡ßá ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡ßá ‡¶ï‡¶§‡¶ú‡¶® ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ú‡ßÄ‡¶¨‡¶®‡ßá ‡¶á‡¶§‡¶ø‡¶¨‡¶æ‡¶ö‡¶ï ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶¶‡ßá‡¶ñ‡ßá‡¶õ‡ßá‡¶®‡•§"
                        variant="default"
                        size="lg"
                    />

                    <!-- Testimonials Grid -->
                    <div class="mt-8 grid grid-cols-1 gap-6 sm:mt-12 sm:grid-cols-2 sm:gap-8 lg:grid-cols-3">
                        <TestimonialItem v-for="testimonial in testimonials" :key="testimonial.id" :testimonial="testimonial" />
                    </div>
                </div>
            </section>
        </WhenVisible>

        <!-- Enhanced Why Choose Us Section -->
        <WhenVisible>
            <section class="relative overflow-hidden bg-gradient-to-br from-slate-50 via-white to-gray-50 py-12 sm:py-20">
                <!-- Subtle Background Pattern -->
                <div class="absolute inset-0 bg-gradient-to-br from-[#d4a574]/3 via-transparent to-[#5f5fcd]/2"></div>

                <!-- Floating Elements -->
                <div
                    class="animate-float absolute top-24 right-24 h-28 w-28 rounded-full bg-gradient-to-br from-[#2d5a27]/8 to-transparent blur-2xl"
                ></div>
                <div
                    class="animate-float-delayed absolute bottom-24 left-24 h-32 w-32 rounded-full bg-gradient-to-tl from-[#d4a574]/6 to-transparent blur-2xl"
                ></div>

                <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                    <SectionHeader
                        title="‡¶ï‡ßá‡¶® ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¨‡ßá‡¶õ‡ßá ‡¶®‡ßá‡¶¨‡ßá‡¶®?"
                        subtitle="‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶Ø‡¶º ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑‡¶§‡ßç‡¶¨"
                        description="‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï, ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡¶¨‡ßã‡¶ß‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶®‡ßç‡¶¨‡¶Ø‡¶º‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡¶ø ‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡¶Æ‡¶æ‡¶®‡ßá‡¶∞ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡•§"
                        variant="default"
                        size="lg"
                    />

                    <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-8 lg:grid-cols-3">
                        <!-- Feature 1 -->
                        <div
                            class="group shadow-islamic hover:shadow-islamic-lg relative overflow-hidden rounded-2xl border border-gray-100 bg-white p-8 text-center transition-all duration-300"
                        >
                            <div class="relative mb-6 flex justify-center">
                                <div
                                    class="flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-[#5f5fcd]/10 to-[#2d5a27]/10"
                                >
                                    <BookOpenIcon class="h-6 w-6 text-[#5f5fcd]" />
                                </div>
                            </div>
                            <h3 class="mb-4 text-xl font-semibold text-gray-900 transition-colors duration-200 group-hover:text-[#5f5fcd]">
                                ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï‡¶Æ‡¶£‡ßç‡¶°‡¶≤‡ßÄ
                            </h3>
                            <p class="mb-2 text-base leading-relaxed text-gray-700">
                                ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶∏‡ßá‡¶∞‡¶æ ‡¶Ü‡¶≤‡ßá‡¶Æ ‡¶ì ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶∏‡ßç‡¶ï‡¶≤‡¶æ‡¶∞‡¶¶‡ßá‡¶∞ ‡¶§‡¶§‡ßç‡¶§‡ßç‡¶¨‡¶æ‡¶¨‡¶ß‡¶æ‡¶®‡ßá ‡¶§‡ßà‡¶∞‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶¨ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡•§
                            </p>
                            <div
                                class="absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-transparent via-[#d4a574] to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"
                            ></div>
                        </div>
                        <!-- Feature 2 -->
                        <div
                            class="group shadow-islamic hover:shadow-islamic-lg relative overflow-hidden rounded-2xl border border-gray-100 bg-white p-8 text-center transition-all duration-300"
                        >
                            <div class="relative mb-6 flex justify-center">
                                <div
                                    class="flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-[#2d5a27]/10 to-[#d4a574]/10"
                                >
                                    <SmartphoneIcon class="h-6 w-6 text-[#2d5a27]" />
                                </div>
                            </div>
                            <h3 class="mb-4 text-xl font-semibold text-gray-900 transition-colors duration-200 group-hover:text-[#5f5fcd]">
                                ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ
                            </h3>
                            <p class="mb-2 text-base leading-relaxed text-gray-700">
                                ‡¶Ö‡¶°‡¶ø‡¶ì, ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠ ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶®, ‡¶ï‡ßÅ‡¶á‡¶ú ‡¶è‡¶¨‡¶Ç ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶∏‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶â‡¶™‡¶≠‡ßã‡¶ó‡ßç‡¶Ø ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶¨‡ßá‡¶∂‡•§
                            </p>
                            <div
                                class="absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-transparent via-[#d4a574] to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"
                            ></div>
                        </div>
                        <!-- Feature 3 -->
                        <div
                            class="group shadow-islamic hover:shadow-islamic-lg relative overflow-hidden rounded-2xl border border-gray-100 bg-white p-8 text-center transition-all duration-300"
                        >
                            <div class="relative mb-6 flex justify-center">
                                <div
                                    class="flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-[#d4a574]/10 to-[#5f5fcd]/10"
                                >
                                    <AwardIcon class="h-6 w-6 text-[#d4a574]" />
                                </div>
                            </div>
                            <h3 class="mb-4 text-xl font-semibold text-gray-900 transition-colors duration-200 group-hover:text-[#5f5fcd]">
                                ‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶®
                            </h3>
                            <p class="mb-2 text-base leading-relaxed text-gray-700">‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡¶≤‡ßá ‡¶™‡¶æ‡¶¨‡ßá‡¶® ‡¶Ü‡¶®‡ßç‡¶§‡¶∞‡ßç‡¶ú‡¶æ‡¶§‡¶ø‡¶ï ‡¶Æ‡¶æ‡¶®‡ßá‡¶∞ ‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü‡•§</p>
                            <div
                                class="absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-transparent via-[#d4a574] to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"
                            ></div>
                        </div>
                        <!-- Feature 4 -->
                        <div
                            class="group shadow-islamic hover:shadow-islamic-lg relative overflow-hidden rounded-2xl border border-gray-100 bg-white p-8 text-center transition-all duration-300"
                        >
                            <div class="relative mb-6 flex justify-center">
                                <div
                                    class="flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-[#5f5fcd]/10 to-[#2d5a27]/10"
                                >
                                    <ClockIcon class="h-6 w-6 text-[#5f5fcd]" />
                                </div>
                            </div>
                            <h3 class="mb-4 text-xl font-semibold text-gray-900 transition-colors duration-200 group-hover:text-[#5f5fcd]">
                                ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º‡ßá ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶®
                            </h3>
                            <p class="mb-2 text-base leading-relaxed text-gray-700">
                                ‡ß®‡ß™/‡ß≠ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡¶Æ‡¶§‡ßã ‡¶∏‡¶Æ‡¶Ø‡¶º‡ßá ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶ó‡ßç‡¶∞‡¶π‡¶£‡ßá‡¶∞ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡•§
                            </p>
                            <div
                                class="absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-transparent via-[#d4a574] to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"
                            ></div>
                        </div>
                        <!-- Feature 5 -->
                        <div
                            class="group shadow-islamic hover:shadow-islamic-lg relative overflow-hidden rounded-2xl border border-gray-100 bg-white p-8 text-center transition-all duration-300"
                        >
                            <div class="relative mb-6 flex justify-center">
                                <div
                                    class="flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-[#2d5a27]/10 to-[#d4a574]/10"
                                >
                                    <UsersIcon class="h-6 w-6 text-[#2d5a27]" />
                                </div>
                            </div>
                            <h3 class="mb-4 text-xl font-semibold text-gray-900 transition-colors duration-200 group-hover:text-[#5f5fcd]">
                                ‡¶ï‡¶Æ‡¶ø‡¶â‡¶®‡¶ø‡¶ü‡¶ø ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü
                            </h3>
                            <p class="mb-2 text-base leading-relaxed text-gray-700">
                                ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ü‡¶≤‡ßã‡¶ö‡¶®‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï‡¶¶‡ßá‡¶∞ ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶ó‡¶æ‡¶á‡¶°‡ßá‡¶®‡ßç‡¶∏‡•§
                            </p>
                            <div
                                class="absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-transparent via-[#d4a574] to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"
                            ></div>
                        </div>
                        <!-- Feature 6 -->
                        <div
                            class="group shadow-islamic hover:shadow-islamic-lg relative overflow-hidden rounded-2xl border border-gray-100 bg-white p-8 text-center transition-all duration-300"
                        >
                            <div class="relative mb-6 flex justify-center">
                                <div
                                    class="flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-[#d4a574]/10 to-[#5f5fcd]/10"
                                >
                                    <SmartphoneIcon class="h-6 w-6 text-[#d4a574]" />
                                </div>
                            </div>
                            <h3 class="mb-4 text-xl font-semibold text-gray-900 transition-colors duration-200 group-hover:text-[#5f5fcd]">
                                ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™
                            </h3>
                            <p class="mb-2 text-base leading-relaxed text-gray-700">‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                            <div
                                class="absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-transparent via-[#d4a574] to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"
                            ></div>
                        </div>
                    </div>
                </div>
            </section>
        </WhenVisible>

        <!-- Simplified CTA Section -->
        <WhenVisible>
            <section
                class="relative overflow-hidden bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 py-8 sm:py-12 lg:py-20"
                id="donation"
                :class="{ 'donation-highlight': donationHighlight }"
            >
                <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                    <div class="flex flex-col items-center gap-6 sm:gap-8 lg:flex-row lg:items-start lg:gap-12">
                        <!-- Left: Heading and Description -->
                        <div class="flex w-full flex-col items-center justify-center text-center lg:w-1/2">
                            <div
                                class="mb-6 inline-flex items-center rounded-full border border-white/20 bg-white/10 px-6 py-3 backdrop-blur-sm transition-transform duration-300 hover:scale-105"
                            >
                                <HeartIcon class="mr-2 h-5 w-5 text-[#d4a574]" />
                                <span class="text-sm font-medium text-white">‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶¨‡ßá‡¶∞ ‡¶Ö‡¶Ç‡¶∂‡ßÄ‡¶¶‡¶æ‡¶∞ ‡¶π‡ßã‡¶®</span>
                            </div>
                            <h2 class="mb-4 text-center text-2xl leading-tight font-bold text-white sm:mb-6 sm:text-3xl lg:text-4xl">
                                ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßÄ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∏‡¶æ‡¶∞‡ßá
                                <span
                                    class="text-gradient-islamic animate-gradient-shift bg-gradient-to-r from-[#d4a574] to-[#5f5fcd] bg-clip-text text-transparent"
                                    >‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡¶æ‡¶®</span
                                >
                                ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£
                            </h2>
                            <p class="mx-auto max-w-xl text-center text-base leading-relaxed text-gray-300 sm:text-lg lg:text-xl">
                                ‡¶á‡¶ï‡¶∞‡¶æ ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶π‡¶æ‡¶ú‡¶æ‡¶∞‡ßã ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßÄ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡¶õ‡ßá‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡¶æ‡¶® ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶¨‡ßÉ‡¶§‡ßç‡¶§‡¶ø,
                                ‡¶™‡¶æ‡¶†‡ßç‡¶Ø‡¶™‡ßÅ‡¶∏‡ßç‡¶§‡¶ï ‡¶ì ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø ‡¶∏‡¶π‡¶æ‡¶Ø‡¶º‡¶§‡¶æ‡¶Ø‡¶º ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡ßÉ‡¶§ ‡¶π‡¶¨‡ßá‡•§
                            </p>
                        </div>
                        <!-- Right: Donation Form -->
                        <div class="w-full lg:w-1/2">
                            <form
                                class="mx-auto max-w-xl space-y-4 rounded-2xl border border-white/10 bg-white/10 p-4 text-left shadow-lg sm:space-y-6 sm:p-8"
                                @submit.prevent="submitDonation"
                            >
                                <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 sm:gap-6">
                                    <div>
                                        <label class="mb-2 block text-gray-200">‡¶®‡¶æ‡¶Æ</label>
                                        <input
                                            type="text"
                                            v-model="form.name"
                                            class="w-full rounded-xl border border-gray-300 bg-white/80 px-4 py-3 text-gray-900 focus:border-[#5f5fcd] focus:ring-[#5f5fcd]"
                                            placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ"
                                            required
                                        />
                                    </div>
                                    <div>
                                        <label class="mb-2 block text-gray-200">‡¶á‡¶Æ‡ßá‡¶á‡¶≤</label>
                                        <input
                                            type="email"
                                            v-model="form.email"
                                            class="w-full rounded-xl border border-gray-300 bg-white/80 px-4 py-3 text-gray-900 focus:border-[#5f5fcd] focus:ring-[#5f5fcd]"
                                            placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤"
                                            required
                                        />
                                    </div>
                                    <div>
                                        <label class="mb-2 block text-gray-200">‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</label>
                                        <input
                                            type="tel"
                                            v-model="form.phone"
                                            class="w-full rounded-xl border border-gray-300 bg-white/80 px-4 py-3 text-gray-900 focus:border-[#5f5fcd] focus:ring-[#5f5fcd]"
                                            placeholder="‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"
                                            required
                                        />
                                    </div>
                                    <div>
                                        <label class="mb-2 block text-gray-200">‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ (‡ß≥)</label>
                                        <input
                                            type="number"
                                            v-model="form.amount"
                                            min="1"
                                            class="w-full rounded-xl border border-gray-300 bg-white/80 px-4 py-3 text-gray-900 focus:border-[#5f5fcd] focus:ring-[#5f5fcd]"
                                            placeholder="‡¶Ø‡¶§ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®"
                                            required
                                        />
                                    </div>
                                </div>
                                <div>
                                    <label class="mb-2 block text-gray-200">‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶ï‡¶æ‡¶∞‡¶£</label>
                                    <input
                                        type="text"
                                        v-model="form.reason"
                                        class="w-full rounded-xl border border-gray-300 bg-white/80 px-4 py-3 text-gray-900 focus:border-[#5f5fcd] focus:ring-[#5f5fcd]"
                                        placeholder="‡¶ï‡ßá‡¶® ‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡¶õ‡ßá‡¶® (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)"
                                    />
                                </div>
                                <div>
                                    <label class="mb-2 block text-gray-200">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ</label>
                                    <div class="flex flex-col gap-3 sm:gap-4">
                                        <button
                                            type="button"
                                            @click="form.payment_method = 'bkash'"
                                            :class="[
                                                'flex flex-1 items-center justify-center gap-2 rounded-xl px-4 py-3 font-semibold',
                                                form.payment_method === 'bkash'
                                                    ? 'bg-[#e2136e]/90 text-white shadow-lg'
                                                    : 'border border-gray-300 bg-white/80 text-gray-900',
                                            ]"
                                        >
                                            <span>bKash</span>
                                        </button>
                                        <button
                                            type="button"
                                            @click="form.payment_method = 'nagad'"
                                            :class="[
                                                'flex flex-1 items-center justify-center gap-2 rounded-xl px-4 py-3 font-semibold',
                                                form.payment_method === 'nagad'
                                                    ? 'bg-[#f58220]/90 text-white shadow-lg'
                                                    : 'border border-gray-300 bg-white/80 text-gray-900',
                                            ]"
                                        >
                                            <span>Nagad</span>
                                        </button>
                                        <button
                                            type="button"
                                            @click="form.payment_method = 'rocket'"
                                            :class="[
                                                'flex flex-1 items-center justify-center gap-2 rounded-xl px-4 py-3 font-semibold',
                                                form.payment_method === 'rocket'
                                                    ? 'bg-[#8a2be2]/90 text-white shadow-lg'
                                                    : 'border border-gray-300 bg-white/80 text-gray-900',
                                            ]"
                                        >
                                            <span>Rocket</span>
                                        </button>
                                    </div>
                                </div>
                                <div v-if="form.payment_method" class="mt-2 rounded-xl bg-white/20 p-4 text-gray-100">
                                    <div v-if="form.payment_method === 'bkash'">
                                        <div class="font-bold">bKash ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞: <span class="font-mono">01915878662 (‡¶™‡¶æ‡¶∞‡ßç‡¶∏‡ßã‡¶®‡¶æ‡¶≤)</span></div>
                                    </div>
                                    <div v-else-if="form.payment_method === 'nagad'">
                                        <div class="font-bold">Nagad ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞: <span class="font-mono">01750-469027 (‡¶™‡¶æ‡¶∞‡ßç‡¶∏‡ßã‡¶®‡¶æ‡¶≤)</span></div>
                                    </div>
                                    <div v-else-if="form.payment_method === 'rocket'">
                                        <div class="font-bold">Rocket ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞: <span class="font-mono">019158786625 (‡¶™‡¶æ‡¶∞‡ßç‡¶∏‡ßã‡¶®‡¶æ‡¶≤)</span></div>
                                    </div>
                                    <div class="mt-2 text-sm">‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡ßá ‡¶∏‡ßá‡¶®‡ßç‡¶° ‡¶Æ‡¶æ‡¶®‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶®‡¶ø‡¶ö‡ßá ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®‡•§</div>
                                </div>
                                <div v-if="form.payment_method">
                                    <label class="mt-4 mb-2 block text-gray-200">‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø</label>
                                    <input
                                        type="text"
                                        v-model="form.transaction_id"
                                        class="w-full rounded-xl border border-gray-300 bg-white/80 px-4 py-3 text-gray-900 focus:border-[#5f5fcd] focus:ring-[#5f5fcd]"
                                        placeholder="‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶™‡¶∞ ‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶§ ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®"
                                        required
                                    />
                                </div>
                                <div class="pt-4">
                                    <PrimaryButton
                                        size="xl"
                                        variant="primary"
                                        :icon="HeartIcon"
                                        class="w-full min-w-[200px]"
                                        :loading="form.processing"
                                        type="submit"
                                    >
                                        ‡¶¶‡¶æ‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®
                                    </PrimaryButton>
                                </div>
                            </form>
                            <div v-if="form.hasErrors" class="mt-4 text-center text-red-500">
                                <div v-for="(msg, field) in form.errors" :key="field">{{ msg }}</div>
                            </div>
                            <div class="mt-6 text-center text-sm text-gray-400 sm:mt-8 lg:text-left">
                                <span>‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡ßç‚Äå ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡¶æ‡¶® ‡¶ï‡¶¨‡ßÅ‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶¶‡ßç‡¶¨‡ßÄ‡¶®‡¶ø ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∏‡¶æ‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶Ö‡¶Ç‡¶∂‡ßÄ‡¶¶‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </WhenVisible>
    </FrontendLayout>
</template>

<script setup lang="ts">
// Enhanced HomePage component - Islamic LMS frontend
import CourseCard from '@/components/Frontend/CourseCard.vue';
import PrimaryButton from '@/components/Frontend/PrimaryButton.vue';
import SectionHeader from '@/components/Frontend/SectionHeader.vue';
import TestimonialItem from '@/components/Frontend/TestimonialItem.vue';
import WhenVisible from '@/components/Frontend/WhenVisible.vue';
import { useToast } from '@/composables/useToast';
import FrontendLayout from '@/layouts/FrontendLayout.vue';
import { Head, router, useForm, usePage } from '@inertiajs/vue3';
import { ArrowRightIcon, AwardIcon, BookOpenIcon, ClockIcon, HeartIcon, InfoIcon, SmartphoneIcon, StarIcon, UsersIcon } from 'lucide-vue-next';
import { onMounted, ref, watch } from 'vue';

// Get data from backend
const page = usePage();
const featuredCourses = ref<any[]>((page.props.featured_courses as any[]) || []);

// Stats will be loaded via deferred props
const stats = ref<any>({
    total_courses: 0,
    total_students: 0,
    satisfaction_rate: 0,
    total_instructors: 0,
    total_enrollments: 0,
});

// Testimonials will be loaded via deferred props
const testimonials = ref<any[]>([]);

// Watch for deferred props updates
watch(
    () => page.props.stats,
    (newStats) => {
        if (newStats) {
            stats.value = newStats;
        }
    },
);

watch(
    () => page.props.testimonials,
    (newTestimonials) => {
        if (newTestimonials) {
            testimonials.value = newTestimonials;
        }
    },
);

// Type definitions for better TypeScript support
interface Course {
    id: number;
    slug: string;
    title: string;
    description: string;
    image?: string;
    category: string;
    level: string;
    price: number;
    duration: string;
    students_count: number;
    rating: number;
    instructor: {
        name: string;
        avatar?: string;
    };
    isNew?: boolean;
    enrolled: boolean;
    progress: number;
}

const handleCourseEnroll = (course: any) => {
    // Logic to handle course enrollment
    router.visit(route('frontend.courses.show', { slug: course.slug }));
};

// Bangla numeral conversion
function toBanglaNumber(num: number): string {
    const en = '0123456789';
    const bn = '‡ß¶‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨‡ß≠‡ßÆ‡ßØ';
    return num
        .toString()
        .split('')
        .map((d) => (en.includes(d) ? bn[en.indexOf(d)] : d))
        .join('');
}

// Animated stat values
const displayCourses = ref(0);
const displayStudents = ref(0);
const displayHappyStudents = ref(0);
const displayRating = ref(0);

// Update stat targets
const targetCourses = 15;
const targetStudents = 5000;
const targetHappyStudents = 5000;
const targetRating = 4.9;

function animateStat(refValue: any, target: number, duration = 700) {
    const start = 0;
    const startTime = performance.now();
    function animate(now: number) {
        const elapsed = now - startTime;
        const progress = Math.min(elapsed / duration, 1);
        refValue.value = Math.floor(progress * (target - start) + start);
        if (progress < 1) {
            requestAnimationFrame(animate);
        } else {
            refValue.value = target;
        }
    }
    requestAnimationFrame(animate);
}

// State for donation highlight animation
const donationHighlight = ref(false);
let highlightTimeout: NodeJS.Timeout | null = null;

onMounted(() => {
    animateStat(displayCourses, targetCourses);
    setTimeout(() => animateStat(displayStudents, targetStudents), 200);
    setTimeout(() => animateStat(displayHappyStudents, targetHappyStudents), 400);
    setTimeout(() => animateStat(displayRating, targetRating, 700), 600);

    // Smooth scroll to donation if coming from menu
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('scroll') === 'donation') {
        setTimeout(() => {
            const el = document.getElementById('donation');
            if (el) {
                el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                // Use Vue reactivity instead of direct DOM manipulation
                donationHighlight.value = true;
                highlightTimeout = setTimeout(() => {
                    donationHighlight.value = false;
                }, 1200);
            }
        }, 300);
    }
});

// Testimonials will be loaded from deferred props - initialized above

const toast = useToast();
const form = useForm({
    name: '',
    email: '',
    phone: '',
    amount: '',
    reason: '',
    payment_method: '',
    transaction_id: '',
});

const sanitizeInput = (input: string): string => {
    if (!input) return '';
    return input
        .replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '')
        .replace(/<[^>]*>/g, '')
        .replace(/javascript:/gi, '')
        .replace(/on\w+=/gi, '')
        .trim();
};

const validateForm = (): boolean => {
    if (!form.name || form.name.trim().length < 2) {
        toast.error({ title: '‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø', message: '‡¶®‡¶æ‡¶Æ ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ß® ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§' });
        return false;
    }
    if (!form.email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(form.email)) {
        toast.error({ title: '‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø', message: '‡¶∏‡¶†‡¶ø‡¶ï ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ ‡¶¶‡¶ø‡¶®‡•§' });
        return false;
    }
    if (!form.phone || !/^(\+880|880|0)?1[3-9]\d{8}$/.test(form.phone.replace(/\s/g, ''))) {
        toast.error({ title: '‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø', message: '‡¶∏‡¶†‡¶ø‡¶ï ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßÄ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶®‡•§' });
        return false;
    }
    if (!form.amount || form.amount < 1) {
        toast.error({ title: '‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø', message: '‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ‡ßß ‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶¨‡ßá‡¶∂‡¶ø ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§' });
        return false;
    }
    if (!form.payment_method) {
        toast.error({ title: '‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø', message: '‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§' });
        return false;
    }
    if (!form.transaction_id || form.transaction_id.trim().length < 5) {
        toast.error({ title: '‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø', message: '‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ß´ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§' });
        return false;
    }
    return true;
};

const submitDonation = () => {
    if (!validateForm()) return;

    // Sanitize form data before submission
    const sanitizedForm = {
        name: sanitizeInput(form.name),
        email: sanitizeInput(form.email),
        phone: sanitizeInput(form.phone),
        amount: Number(form.amount),
        reason: sanitizeInput(form.reason),
        payment_method: sanitizeInput(form.payment_method),
        transaction_id: sanitizeInput(form.transaction_id),
    };

    form.transform((data) => sanitizedForm).post(route('donations.store'), {
        preserveScroll: true,
        onSuccess: () => {
            let successMsg = '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡¶æ‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!';
            const flash = page.props.flash as Record<string, any>;
            if (flash && typeof flash === 'object' && typeof flash.success === 'string') {
                successMsg = flash.success;
            }
            toast.success({
                title: '‡¶∏‡¶´‡¶≤',
                message: successMsg,
                duration: 5000,
            });
            form.reset();
        },
        onError: (errors) => {
            if (errors.name) {
                toast.error({ title: '‡¶®‡¶æ‡¶Æ ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø', message: errors.name });
            } else if (errors.email) {
                toast.error({ title: '‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø', message: errors.email });
            } else if (errors.phone) {
                toast.error({ title: '‡¶´‡ßã‡¶® ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø', message: errors.phone });
            } else if (errors.amount) {
                toast.error({ title: '‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø', message: errors.amount });
            } else if (errors.payment_method) {
                toast.error({ title: '‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø', message: errors.payment_method });
            } else if (errors.transaction_id) {
                toast.error({ title: '‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø', message: errors.transaction_id });
            } else if (errors.error) {
                toast.error({ title: '‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø', message: errors.error });
            } else {
                toast.error({
                    title: '‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø',
                    message: '‡¶¶‡¶æ‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶™‡ßÅ‡¶®‡¶∞‡¶æ‡¶Ø‡¶º ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§',
                    duration: 7000,
                });
            }
        },
        onFinish: () => {
            // Reset processing state if needed
        },
    });
};
</script>

<style scoped>
/* Enhanced float animation for hero elements */
@keyframes float {
    0%,
    100% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-20px);
    }
}

@keyframes float-delayed {
    0%,
    100% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-15px);
    }
}

.animate-float {
    animation: float 6s ease-in-out infinite;
}

.animate-float-delayed {
    animation: float-delayed 8s ease-in-out infinite;
}

/* Enhanced gradient text animation */
@keyframes gradientShift {
    0%,
    100% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
}

.text-gradient-islamic {
    background-size: 200% 200%;
    animation: gradientShift 4s ease-in-out infinite;
}

/* Enhanced bounce animations */
@keyframes bounce-delayed {
    0%,
    20%,
    53%,
    80%,
    100% {
        transform: translate3d(0, 0, 0);
    }
    40%,
    43% {
        transform: translate3d(0, -8px, 0);
    }
    70% {
        transform: translate3d(0, -4px, 0);
    }
    90% {
        transform: translate3d(0, -2px, 0);
    }
}

.animate-bounce-delayed {
    animation: bounce-delayed 3s ease-in-out infinite;
    animation-delay: 1s;
}

/* Enhanced fade in animation */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-fade-in {
    animation: fadeIn 1s ease-out;
}

/* Enhanced slide up animation */
@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(40px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-slide-up {
    animation: slideUp 1.2s ease-out;
}

/* Enhanced focus states for accessibility */
.focus-islamic:focus {
    outline: 2px solid #5f5fcd;
    outline-offset: 2px;
    border-radius: 8px;
}

/* Enhanced hover effects */
.hover-lift {
    transition:
        transform 0.3s ease,
        box-shadow 0.3s ease;
}

.hover-lift:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(95, 95, 205, 0.15);
}

@keyframes float-slow {
    0%,
    100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-24px);
    }
}
@keyframes spin-slow {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}
.animate-float-slow {
    animation: float-slow 10s ease-in-out infinite;
}
.animate-spin-slow {
    animation: spin-slow 18s linear infinite;
}

@keyframes statIn {
    from {
        opacity: 0;
        transform: translateY(24px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.animate-stat-in {
    opacity: 0;
    transform: translateY(24px);
    animation: statIn 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Donation highlight animation */
.donation-highlight {
    animation: highlightPulse 1.2s ease-in-out;
}

@keyframes highlightPulse {
    0%,
    100% {
        box-shadow: 0 0 0 rgba(95, 95, 205, 0);
    }
    50% {
        box-shadow:
            0 0 20px rgba(95, 95, 205, 0.3),
            inset 0 0 20px rgba(95, 95, 205, 0.1);
    }
}
</style>
